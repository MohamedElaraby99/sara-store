#!/usr/bin/env python3
"""
Add 100 sample products for testing
"""

import random
from app import app
from models import db, Product, Category

def add_sample_products():
    """Add 100 sample products for testing"""
    print("๐ฆ Adding Sample Products for Testing")
    print("=" * 50)
    
    with app.app_context():
        # Check if categories exist
        categories = Category.query.all()
        if not categories:
            print("โ No categories found. Creating sample categories first...")
            create_sample_categories()
            categories = Category.query.all()
        
        print(f"๐ Found {len(categories)} categories")
        
        # Sample products data - 100 products
        products_data = [
            # ุฃุฏูุงุช ููุชุจูุฉ (20 ููุชุฌ)
            ("ููู ุฌุงู ุฃุฒุฑู", "ููู ุฌุงู ุนุงูู ุงูุฌูุฏุฉ", 1.5, 2.5, 500, 50),
            ("ููู ุฌุงู ุฃุญูุฑ", "ููู ุฌุงู ููู ุฃุญูุฑ", 1.5, 2.5, 300, 50),
            ("ููู ุฌุงู ุฃุณูุฏ", "ููู ุฌุงู ููู ุฃุณูุฏ", 1.5, 2.5, 800, 50),
            ("ููู ุฑุตุงุต HB", "ููู ุฑุตุงุต ุฑูู 2", 1.0, 2.0, 600, 100),
            ("ููู ุฑุตุงุต 2H", "ููู ุฑุตุงุต ุฎููู", 1.0, 2.0, 200, 50),
            ("ููู ุฑุตุงุต 2B", "ููู ุฑุตุงุต ุบุงูู", 1.0, 2.0, 300, 50),
            ("ููุญุงุฉ ุจูุถุงุก", "ููุญุงุฉ ููู ุฑุตุงุต", 2.0, 3.5, 400, 80),
            ("ููุญุงุฉ ููููุฉ", "ููุญุงุฉ ุจุฃููุงู ูุฎุชููุฉ", 2.5, 4.0, 200, 40),
            ("ูุณุทุฑุฉ 20 ุณู", "ูุณุทุฑุฉ ุจูุงุณุชูู ุดูุงูุฉ", 3.0, 5.0, 150, 30),
            ("ูุณุทุฑุฉ 30 ุณู", "ูุณุทุฑุฉ ุจูุงุณุชูู 30 ุณู", 4.0, 6.5, 100, 20),
            ("ูุดุจู ูุฑู ุตุบูุฑ", "ูุดุงุจู ูุฑู ูุนุฏููุฉ", 0.5, 1.0, 1000, 200),
            ("ูุดุจู ูุฑู ูุจูุฑ", "ูุดุงุจู ูุฑู ูุจูุฑุฉ", 1.0, 2.0, 500, 100),
            ("ุฏุจุงุจูุณ", "ุฏุจุงุจูุณ ูููุญุฉ ุงููููู", 5.0, 8.0, 200, 40),
            ("ุดุฑูุท ูุงุตู", "ุดุฑูุท ูุงุตู ุดูุงู", 8.0, 12.0, 150, 30),
            ("ุบุฑุงุก ุณุงุฆู", "ุบุฑุงุก ูููุฑู ูุงููุฑุชูู", 6.0, 10.0, 100, 25),
            ("ุบุฑุงุก ุนุตุง", "ุบุฑุงุก ุนุตุง ููุฃุทูุงู", 7.0, 12.0, 120, 30),
            ("ููุต ุตุบูุฑ", "ููุต ููุชุจู ุตุบูุฑ", 15.0, 25.0, 80, 15),
            ("ููุต ูุจูุฑ", "ููุต ููุชุจู ุงุญุชุฑุงูู", 25.0, 40.0, 50, 10),
            ("ุจุฑุฌู ููุฏุณู", "ุจุฑุฌู ููุฑุณู ุงูููุฏุณู", 35.0, 55.0, 40, 10),
            ("ููููุฉ ููุฏุณูุฉ", "ููููุฉ ุจูุงุณุชูู ุดูุงูุฉ", 8.0, 12.0, 100, 20),
            
            # ุฃููุงู ููููุฉ ููููุฉ (15 ููุชุฌ)
            ("ุฃููุงู ุชูููู 12 ููู", "ุนูุจุฉ ุฃููุงู ุชูููู", 15.0, 25.0, 80, 10),
            ("ุฃููุงู ุชูููู 24 ููู", "ุนูุจุฉ ุฃููุงู ุชูููู ูุจูุฑุฉ", 25.0, 40.0, 50, 10),
            ("ุฃููุงู ุฎุดุจูุฉ ููููุฉ", "ุฃููุงู ุฎุดุจูุฉ ููุชูููู", 20.0, 35.0, 60, 15),
            ("ุฃููุงู ููููุงุณุชุฑ", "ุฃููุงู ููููุงุณุชุฑ ููููุฉ", 18.0, 30.0, 40, 10),
            ("ููู ุชุญุฏูุฏ ุฃุตูุฑ", "ููู ุชุญุฏูุฏ ูุงููุงูุชุฑ", 8.0, 12.0, 100, 20),
            ("ููู ุชุญุฏูุฏ ุฃุฎุถุฑ", "ููู ุชุญุฏูุฏ ุฃุฎุถุฑ", 8.0, 12.0, 80, 20),
            ("ููู ุชุญุฏูุฏ ูุฑุฏู", "ููู ุชุญุฏูุฏ ูุฑุฏู", 8.0, 12.0, 70, 20),
            ("ููู ุชุญุฏูุฏ ุจุฑุชูุงูู", "ููู ุชุญุฏูุฏ ุจุฑุชูุงูู", 8.0, 12.0, 60, 20),
            ("ุฃููุงู ูุงุฆูุฉ", "ุนูุจุฉ ุฃููุงู ูุงุฆูุฉ", 45.0, 70.0, 30, 8),
            ("ุฃููุงู ุฒูุชูุฉ", "ุฃููุงู ุฒูุชูุฉ ููุฑุณู", 65.0, 100.0, 20, 5),
            ("ูุฑุด ุฑุณู", "ูุฌููุนุฉ ูุฑุด ุฑุณู", 35.0, 55.0, 25, 8),
            ("ููุญุฉ ุฃููุงู", "ููุญุฉ ุฎูุท ุงูุฃููุงู", 15.0, 25.0, 40, 10),
            ("ูุงููุงุณ ููุฑุณู", "ููุญุฉ ูุงููุงุณ ุฌุงูุฒุฉ", 25.0, 40.0, 35, 8),
            ("ุทุจุงุดูุฑ ููููุฉ", "ุทุจุงุดูุฑ ููุฑุณู", 12.0, 20.0, 50, 15),
            ("ูุงุฑูุฑ ุฏุงุฆู", "ููู ุชุญุฏูุฏ ุฏุงุฆู", 10.0, 15.0, 80, 20),
            
            # ุฏูุงุชุฑ ููุฑุงุณุงุช (20 ููุชุฌ)
            ("ูุฑุงุณุฉ 100 ูุฑูุฉ", "ูุฑุงุณุฉ ุณูู ูุณุทุฑุฉ", 12.0, 20.0, 200, 30),
            ("ูุฑุงุณุฉ 200 ูุฑูุฉ", "ูุฑุงุณุฉ ุณูู ูุจูุฑุฉ", 20.0, 35.0, 150, 25),
            ("ุฏูุชุฑ A4 ูุณุทุฑ", "ุฏูุชุฑ ุญุฌู A4 ูุณุทุฑ", 25.0, 40.0, 100, 20),
            ("ุฏูุชุฑ A4 ูุฑุจุนุงุช", "ุฏูุชุฑ ุญุฌู A4 ูุฑุจุนุงุช", 25.0, 40.0, 80, 15),
            ("ุฏูุชุฑ A5 ุตุบูุฑ", "ุฏูุชุฑ ุญุฌู A5", 15.0, 25.0, 120, 25),
            ("ูุฑุงุณุฉ ุฑุณู A4", "ูุฑุงุณุฉ ุฑุณู ูุชูููู", 18.0, 30.0, 90, 20),
            ("ุฏูุชุฑ ููุงุญุธุงุช", "ุฏูุชุฑ ููุงุญุธุงุช ุตุบูุฑ", 10.0, 18.0, 150, 30),
            ("ุฃุฌูุฏุฉ ุณูููุฉ", "ุฃุฌูุฏุฉ ุชุฎุทูุท ุณููู", 45.0, 75.0, 30, 5),
            ("ุฏูุชุฑ ููุงุนูุฏ", "ุฏูุชุฑ ุชุณุฌูู ุงูููุงุนูุฏ", 20.0, 35.0, 40, 10),
            ("ูุฐูุฑุฉ ูุงุตูุฉ", "ุฃูุฑุงู ูุงุตูุฉ ููููุงุญุธุงุช", 8.0, 12.0, 150, 30),
            ("ุญุงูุธุฉ ุฃูุฑุงู", "ุญุงูุธุฉ ุฃูุฑุงู ุจูุงุณุชูู", 8.0, 12.0, 100, 25),
            ("ููู ุฃูุฑุงู A4", "ููู ุญูุธ ุฃูุฑุงู", 12.0, 20.0, 80, 20),
            ("ูุทููุฉ A4", "ูุฌูุฏ ุฃูุฑุงู A4", 25.0, 40.0, 45, 12),
            ("ุฏูุชุฑ ุชุญุถูุฑ", "ุฏูุชุฑ ุชุญุถูุฑ ูููุนูู", 30.0, 50.0, 35, 8),
            ("ูุฑุงุณุฉ ุฅููุงุก", "ูุฑุงุณุฉ ุฅููุงุก ูุณุทุฑุฉ", 8.0, 15.0, 200, 40),
            ("ุฏูุชุฑ ุฎุท ุนุฑุจู", "ุฏูุชุฑ ูุชุญุณูู ุงูุฎุท", 12.0, 20.0, 100, 25),
            ("ูุฑุงุณุฉ ููุณููู", "ูุฑุงุณุฉ ููุชุฉ ููุณูููุฉ", 15.0, 25.0, 50, 15),
            ("ุฏูุชุฑ ุญุถูุฑ", "ุฏูุชุฑ ุญุถูุฑ ูุบูุงุจ", 20.0, 35.0, 30, 10),
            ("ุณุฌู ุฏุฑุฌุงุช", "ุณุฌู ูุชุณุฌูู ุงูุฏุฑุฌุงุช", 25.0, 40.0, 25, 8),
            ("ุฏูุชุฑ ูุฑุงุณูุงุช", "ุฏูุชุฑ ุงููุฑุงุณูุงุช ุงูุฑุณููุฉ", 18.0, 30.0, 40, 12),
            
            # ูุชุจ ููุฑุงุฌุน (15 ููุชุฌ)
            ("ูุชุงุจ ุงูุฑูุงุถูุงุช", "ูุชุงุจ ุฑูุงุถูุงุช ูููุฑุญูุฉ ุงูุซุงูููุฉ", 80.0, 120.0, 50, 10),
            ("ูุชุงุจ ุงูููุฒูุงุก", "ูุชุงุจ ููุฒูุงุก ููุซุงูููุฉ ุงูุนุงูุฉ", 90.0, 140.0, 40, 8),
            ("ูุชุงุจ ุงูููููุงุก", "ูุชุงุจ ููููุงุก ุดุงูู", 85.0, 130.0, 45, 10),
            ("ูุชุงุจ ุงููุบุฉ ุงูุนุฑุจูุฉ", "ูุชุงุจ ูุญู ูุฃุฏุจ", 70.0, 110.0, 60, 12),
            ("ูุชุงุจ ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ", "ูุชุงุจ ุฅูุฌููุฒู ูุชูุฏู", 75.0, 115.0, 55, 12),
            ("ูุงููุณ ุนุฑุจู-ุฅูุฌููุฒู", "ูุงููุณ ุดุงูู", 120.0, 180.0, 25, 5),
            ("ูุชุงุจ ุงูุฌุบุฑุงููุง", "ูุชุงุจ ุฌุบุฑุงููุง ุงูุนุงูู", 65.0, 100.0, 35, 8),
            ("ูุชุงุจ ุงูุชุงุฑูุฎ", "ูุชุงุจ ุชุงุฑูุฎ ุงูุญุถุงุฑุงุช", 70.0, 110.0, 30, 6),
            ("ูุชุงุจ ุงูุฃุญูุงุก", "ูุชุงุจ ุนูู ุงูุฃุญูุงุก", 80.0, 125.0, 40, 10),
            ("ูุชุงุจ ุงูุฌููููุฌูุง", "ูุชุงุจ ุนููู ุงูุฃุฑุถ", 75.0, 115.0, 25, 6),
            ("ูุชุงุจ ุชูุงุฑูู", "ูุชุงุจ ุชูุงุฑูู ูุชููุนุฉ", 30.0, 50.0, 80, 20),
            ("ุฏููู ุงูุทุงูุจ", "ุฏููู ุฅุฑุดุงุฏู ููุทูุงุจ", 40.0, 65.0, 50, 12),
            ("ุฎุฑูุทุฉ ุงูุนุงูู", "ุฎุฑูุทุฉ ุฌุบุฑุงููุฉ ููููุฉ", 35.0, 55.0, 30, 8),
            ("ุฌุฏูู ุงูุถุฑุจ", "ุฌุฏูู ุงูุถุฑุจ ุงูุชุนูููู", 8.0, 12.0, 100, 25),
            ("ุฃุทูุณ ุงูุนุงูู", "ุฃุทูุณ ุฌุบุฑุงูู ูุตูุฑ", 120.0, 180.0, 20, 5),
            
            # ูุณุชูุฒูุงุช ุฑูุงุถูุฉ (10 ููุชุฌ)
            ("ูุฑุฉ ูุฏู", "ูุฑุฉ ูุฏู ุฑุณููุฉ", 120.0, 180.0, 20, 5),
            ("ูุฑุฉ ุณูุฉ", "ูุฑุฉ ุณูุฉ ุงุญุชุฑุงููุฉ", 150.0, 220.0, 15, 3),
            ("ูุฑุฉ ุชูุณ", "ูุฑุฉ ุชูุณ ููููุงุนุจ", 25.0, 40.0, 50, 10),
            ("ูุถุฑุจ ุชูุณ ุทุงููุฉ", "ูุถุฑุจ ุชูุณ ุทุงููุฉ", 45.0, 70.0, 30, 8),
            ("ุญุจู ููุฒ", "ุญุจู ููุฒ ุฑูุงุถู", 15.0, 25.0, 40, 10),
            ("ุดุฑูุท ููุงููุฉ", "ุดุฑูุท ููุงููุฉ ููุชูุงุฑูู", 30.0, 50.0, 25, 8),
            ("ูุฑุฉ ุทุงุฆุฑุฉ", "ูุฑุฉ ุทุงุฆุฑุฉ ููุดุงุทุฆ", 80.0, 120.0, 20, 5),
            ("ุดุจูุฉ ุชูุณ ุทุงููุฉ", "ุดุจูุฉ ุชูุณ ุทุงููุฉ ูุงุจูุฉ ููุทู", 60.0, 90.0, 15, 5),
            ("ููุงุจุณ ุฑูุงุถูุฉ", "ุจุฏูุฉ ุฑูุงุถูุฉ ููุทูุงุจ", 100.0, 150.0, 30, 8),
            ("ุญุฐุงุก ุฑูุงุถู", "ุญุฐุงุก ุฑูุงุถู ููุฌุฑู", 200.0, 300.0, 25, 6),
            
            # ุฃุฌูุฒุฉ ุฅููุชุฑูููุฉ (10 ููุชุฌ)
            ("ุขูุฉ ุญุงุณุจุฉ ุนูููุฉ", "ุขูุฉ ุญุงุณุจุฉ ููุทูุงุจ", 80.0, 120.0, 35, 8),
            ("ุขูุฉ ุญุงุณุจุฉ ุจุณูุทุฉ", "ุขูุฉ ุญุงุณุจุฉ ุฃุณุงุณูุฉ", 25.0, 40.0, 60, 15),
            ("ููุงุดุฉ USB 8GB", "ุฐุงูุฑุฉ ุชุฎุฒูู ูุญูููุฉ", 45.0, 70.0, 50, 12),
            ("ููุงุดุฉ USB 16GB", "ุฐุงูุฑุฉ 16 ุฌูุฌุง", 65.0, 95.0, 40, 10),
            ("ููุงุดุฉ USB 32GB", "ุฐุงูุฑุฉ 32 ุฌูุฌุง", 85.0, 125.0, 30, 8),
            ("ุณูุงุนุงุช ุฃุฐู", "ุณูุงุนุงุช ูููุงุชู", 35.0, 55.0, 45, 12),
            ("ุดุงุญู ููุจุงูู", "ุดุงุญู ุนุงู ููููุงุชู", 25.0, 40.0, 60, 15),
            ("ูุงุจู USB", "ูุงุจู ุดุญู ูุจูุงูุงุช", 15.0, 25.0, 80, 20),
            ("ูุงูุณ ููุจููุชุฑ", "ูุงูุณ ูุงุณููู", 40.0, 65.0, 30, 8),
            ("ููุญุฉ ููุงุชูุญ", "ููุญุฉ ููุงุชูุญ ุนุฑุจู-ุฅูุฌููุฒู", 80.0, 120.0, 20, 5),
            
            # ูุณุชูุฒูุงุช ูุชููุนุฉ (10 ููุชุฌ)
            ("ุดูุทุฉ ูุฏุฑุณูุฉ", "ุดูุทุฉ ุธูุฑ ููุทูุงุจ", 120.0, 180.0, 25, 6),
            ("ุนูุจุฉ ุฃููุงู", "ุนูุจุฉ ุญูุธ ุงูุฃููุงู", 15.0, 25.0, 60, 15),
            ("ููููุฉ ููุงุด", "ููููุฉ ููุงุด ูุน ุณุญุงุจ", 18.0, 30.0, 50, 12),
            ("ููููุฉ ุจูุงุณุชูู", "ููููุฉ ุจูุงุณุชูู ุดูุงูุฉ", 12.0, 20.0, 70, 18),
            ("ูุงุตู ุฒุฎุฑูู", "ูุงุตูุงุช ููููุฉ ููุฒููุฉ", 5.0, 8.0, 100, 25),
            ("ูุดุงุจู ููููุฉ", "ูุดุงุจู ูุฑู ููููุฉ", 3.0, 5.0, 200, 50),
            ("ููู ุชุตุญูุญ", "ููู ุชุตุญูุญ ุงูุฃุฎุทุงุก", 6.0, 10.0, 100, 25),
            ("ุญุงูุธุฉ ุจุทุงูุงุช", "ุญุงูุธุฉ ุจุทุงูุงุช ุดุฎุตูุฉ", 12.0, 20.0, 60, 15),
            ("ูุจุฑุงุฉ ูุนุฏููุฉ", "ูุจุฑุงุฉ ุฃููุงู ูุนุฏููุฉ", 5.0, 8.0, 100, 25),
            ("ูุจุฑุงุฉ ููุฑุจุงุฆูุฉ", "ูุจุฑุงุฉ ุฃููุงู ููุฑุจุงุฆูุฉ", 85.0, 130.0, 15, 3),
        ]
        
        # Map category names to IDs
        category_map = {}
        for cat in categories:
            if 'ููุชุจ' in cat.name_ar or 'ุฃุฏูุงุช' in cat.name_ar:
                category_map['office'] = cat.id
            elif 'ูุชุจ' in cat.name_ar or 'ูุฑุงุฌุน' in cat.name_ar:
                category_map['books'] = cat.id
            elif 'ุฏูุงุชุฑ' in cat.name_ar or 'ูุฑุงุณุงุช' in cat.name_ar:
                category_map['notebooks'] = cat.id
            elif 'ุฑูุงุถูุฉ' in cat.name_ar or 'ุฑูุงุถู' in cat.name_ar:
                category_map['sports'] = cat.id
            elif 'ุฅููุชุฑูููุฉ' in cat.name_ar or 'ุฃุฌูุฒุฉ' in cat.name_ar:
                category_map['electronics'] = cat.id
        
        # If no specific categories found, use first available
        if not category_map:
            category_map['default'] = categories[0].id
        
        print(f"๐ Adding {len(products_data)} products...")
        
        added_count = 0
        for i, (name, desc, wholesale, retail, stock, min_stock) in enumerate(products_data):
            # Check if product already exists
            existing = Product.query.filter_by(name_ar=name).first()
            if existing:
                print(f"   โ๏ธ  Product already exists: {name}")
                continue
            
            # Assign category based on product type
            category_id = category_map.get('default', categories[0].id)
            if i < 35:  # Office supplies and art supplies
                category_id = category_map.get('office', categories[0].id)
            elif i < 55:  # Notebooks
                category_id = category_map.get('notebooks', categories[0].id)
            elif i < 70:  # Books
                category_id = category_map.get('books', categories[0].id)
            elif i < 80:  # Sports
                category_id = category_map.get('sports', categories[0].id)
            elif i < 90:  # Electronics
                category_id = category_map.get('electronics', categories[0].id)
            
            # Create product
            product = Product(
                name_ar=name,
                description_ar=desc,
                category_id=category_id,
                wholesale_price=wholesale,
                retail_price=retail,
                stock_quantity=stock,
                min_stock_threshold=min_stock,
                unit_type='ูุงูู'
            )
            
            db.session.add(product)
            added_count += 1
            
            if added_count % 20 == 0:
                print(f"   โ Added {added_count} products...")
        
        try:
            db.session.commit()
            print(f"โ Successfully added {added_count} products!")
            
            # Show summary
            total_products = Product.query.count()
            print(f"๐ Total products in database: {total_products}")
            
            # Show products per category
            for cat in categories:
                count = Product.query.filter_by(category_id=cat.id).count()
                print(f"   ๐ {cat.name_ar}: {count} products")
            
        except Exception as e:
            db.session.rollback()
            print(f"โ Error adding products: {str(e)}")

def create_sample_categories():
    """Create sample categories if they don't exist"""
    categories = [
        ('ุฃุฏูุงุช ููุชุจูุฉ', 'ุฃููุงูุ ูุณุงุทุฑุ ููุญุงูุงุช ูุบูุฑูุง ูู ุงูุฃุฏูุงุช ุงูููุชุจูุฉ'),
        ('ูุชุจ ููุฑุงุฌุน', 'ูุชุจ ุฏุฑุงุณูุฉ ููุฑุงุฌุน ุนูููุฉ ูุชุนููููุฉ'),
        ('ุฏูุงุชุฑ ููุฑุงุณุงุช', 'ุฏูุงุชุฑ ููุฑุงุณุงุช ูุฎุชููุฉ ุงูุฃุญุฌุงู ูุงูุฃููุงุน'),
        ('ูุณุชูุฒูุงุช ุฑูุงุถูุฉ', 'ุฃุฏูุงุช ูููุงุจุณ ููุนุฏุงุช ุฑูุงุถูุฉ'),
        ('ุฃุฌูุฒุฉ ุฅููุชุฑูููุฉ', 'ุญุงุณุจุงุช ูุฃุฌูุฒุฉ ุฅููุชุฑูููุฉ ููุณุชูุฒูุงุชูุง'),
    ]
    
    for name, desc in categories:
        existing = Category.query.filter_by(name_ar=name).first()
        if not existing:
            category = Category(name_ar=name, description_ar=desc)
            db.session.add(category)
    
    db.session.commit()

if __name__ == '__main__':
    add_sample_products() 